apiVersion: v1
kind: Pod
metadata:
  name: test-pod
  labels:
    app: e2e-test
spec:
  containers:
  - name: test
    image: registry.redhat.io/ubi8/ubi-minimal:latest
    command:
    - /bin/sh
    - -c
    - |
      echo "Starting e2e test pod"
      echo "Pod started at: $(date)"
      echo "Node: $NODE_NAME"
      echo "Namespace: $POD_NAMESPACE"
      while true; do
        echo "Health check: $(date)"
        sleep 30
      done
    env:
    - name: NODE_NAME
      valueFrom:
        fieldRef:
          fieldPath: spec.nodeName
    - name: POD_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  restartPolicy: Always